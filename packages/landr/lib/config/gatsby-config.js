module.exports = (buildDir, cwd, gitInfo) => {

  return `
  // Don't touch: this is an autogenerated file from ./config/gatsby-config.js
  module.exports = {
    plugins: [
      'gatsby-plugin-postcss-sass',
      {
        resolve: 'gatsby-source-github-repo',
        options: {
          owner: '${gitInfo.getUsername()}',
          repo: '${gitInfo.getName()}',
        },
      },
      {
        resolve: 'gatsby-source-filesystem',
        options: {
          name: 'readme',
          path: '${cwd}/README.md',
        },
      },
      {
        resolve: 'landr-plugin-readme',
      },
      {
        resolve: 'gatsby-source-filesystem',
        options: {
          name: 'changelog',
          path: '${cwd}/CHANGELOG.md',
        },
      },
      {
        resolve: 'landr-plugin-changelog',
        options: {
          headerDepth: 2
        },
      },
      {
        resolve: 'landr-components',
        options: {
          cwd: '${cwd}'
        },
      },
    ],
    pathPrefix: '/${gitInfo.getName()}'
  }
  `;
};
